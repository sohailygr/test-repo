pipeline {
    agent any

    stages {
        stage('Run on Main Branch') {
            when {
                expression { env.BRANCH_NAME == 'test-repo' }
            }
            steps {
                echo 'This stage runs only on the main branch'
                // Add your stage-specific steps here
            }
        }

        // Add more stages as needed
    }

    // Add post section or other pipeline configurations if necessary
}
